<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title></title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<!-- xhtml,html --> 
<meta name="src" content="Example_1_6.tex" /> 
<meta name="date" content="2017-05-11 11:49:00" /> 
<link rel="stylesheet" type="text/css" href="Example_1_6.css" /> 
</head><body 
>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-10001"></a>Examples</h3>
<!--l. 51--><p class="noindent" >The examples below illustrate the use of the Simulink implementation above.
</p>
   <div class="newtheorem">
<!--l. 2--><p class="noindent" ><span class="head">
 <span 
class="cmbx-10">Example</span><span 
class="cmbx-10">&#x00A0;1.6</span> </span>(interconnection of hybrid systems <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">1</span></sub> (bouncing ball) and <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">2</span></sub> (moving platform)) <a 
 id="x1-10011"></a>Consider
a bouncing ball (<span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">1</span></sub>) bouncing on a platform (<span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">2</span></sub>) at some initial height and converging to the ground at
zero height. This is an interconnection problem because the current states of each system affect the behavior
of the other system. In this interconnection, the bouncing ball will contact the platform, bounce back up,
and cause a jump in height of the platform so that it gets closer to the ground. After some time, both the
ball and the platform will converge to the ground. In order to model this system, the output of the bouncing
ball becomes the input of the moving platform, and vice versa. For the simulation of the described system
with regular data where <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">1</span></sub> is given by
</p>
   <div class="eqnarray">
   <center class="math-display" >
<img 
src="Example_1_60x.png" alt="                         [              ]
            f (&#x03BE;,u ,v ) :=       &#x03BE;2       ,C  := {(&#x03BE;,u ) | &#x03BE; &#x2265; u ,u &#x2265; 0}         (1)
             1   1  1      - &#x03B3; - b&#x03BE;2 + v11 1        1   1    1  1
            [  &#x03BE;1 + &#x03B1;1&#x03BE;22 ]
g1(&#x03BE;,u1,v1) :=  e1|&#x03BE;2|+ v12   ,D1 := {(&#x03BE;,u1) | &#x03BE;1 = u1,u1 &#x2265; 0},y1 = h1(&#x03BE;) := &#x03BE;1     (2)
" class="math-display"  /></center>
</div>where <span 
class="cmmi-10">&#x03B3;,b,&#x03B1;</span><sub><span 
class="cmr-7">1</span></sub> <span 
class="cmmi-10">&#x003E; </span>0<span 
class="cmmi-10">,e</span><sub><span 
class="cmr-7">1</span></sub> <span 
class="cmsy-10">&#x2208; </span>[0<span 
class="cmmi-10">,</span>1), <span 
class="cmmi-10">&#x03BE; </span>= [<span 
class="cmmi-10">&#x03BE;</span><sub><span 
class="cmr-7">1</span></sub><span 
class="cmmi-10">,&#x03BE;</span><sub><span 
class="cmr-7">2</span></sub>]<sup><span 
class="cmsy-7">&#x22A4;</span></sup> is the state, <span 
class="cmmi-10">y</span><sub><span 
class="cmr-7">1</span></sub> <span 
class="cmsy-10">&#x2208; </span><span 
class="msbm-10">&#x211D; </span>is the output, <span 
class="cmmi-10">u</span><sub><span 
class="cmr-7">1</span></sub> <span 
class="cmsy-10">&#x2208; </span><span 
class="msbm-10">&#x211D; </span>and <span 
class="cmmi-10">v</span><sub><span 
class="cmr-7">1</span></sub> = [<span 
class="cmmi-10">v</span><sub><span 
class="cmr-7">11</span></sub><span 
class="cmmi-10">,v</span><sub><span 
class="cmr-7">12</span></sub>]<sup><span 
class="cmsy-7">&#x22A4;</span></sup><span 
class="cmsy-10">&#x2208; </span><span 
class="msbm-10">&#x211D;</span><sup><span 
class="cmr-7">2</span></sup> are
the inputs, and the hybrid system <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">2</span></sub> is given by
   <div class="eqnarray">
   <center class="math-display" >
<img 
src="Example_1_61x.png" alt="                          [               ]
                                 &#x03B7;2
             f2(&#x03B7;,u2,v2) :=  - &#x03B7;1 - 2&#x03B7;2 + v12 ,C2 := {(&#x03B7;,u2) | &#x03B7;1 &#x2264; u2,&#x03B7;1 &#x2265; 0}     (3)
             [ &#x03B7;1 - &#x03B1;2|&#x03B7;2| ]
g2(&#x03B7;,u2,v2) := - e2|&#x03B7;2|+ v22  ,D2 := {(&#x03B7;,u2) | &#x03B7;1 = u2,&#x03B7;1 &#x2265; 0},y2 = h2(&#x03B7;) := &#x03B7;1    (4)
" class="math-display"  /></center>
                                                                                         
                                                                                         
</div>where <span 
class="cmmi-10">&#x03B1;</span><sub><span 
class="cmr-7">2</span></sub> <span 
class="cmmi-10">&#x003E; </span>0<span 
class="cmmi-10">,e</span><sub><span 
class="cmr-7">2</span></sub> <span 
class="cmsy-10">&#x2208; </span>[0<span 
class="cmmi-10">,</span>1), <span 
class="cmmi-10">&#x03B7; </span>= [<span 
class="cmmi-10">&#x03B7;</span><sub><span 
class="cmr-7">1</span></sub><span 
class="cmmi-10">,&#x03B7;</span><sub><span 
class="cmr-7">2</span></sub>]<sup><span 
class="cmsy-7">&#x22A4;</span></sup><span 
class="cmsy-10">&#x2208; </span><span 
class="msbm-10">&#x211D;</span><sup><span 
class="cmr-7">2</span></sup> is the state, <span 
class="cmmi-10">y</span><sub><span 
class="cmr-7">2</span></sub> <span 
class="cmsy-10">&#x2208; </span><span 
class="msbm-10">&#x211D; </span>is the output, and <span 
class="cmmi-10">u</span><sub><span 
class="cmr-7">2</span></sub> <span 
class="cmsy-10">&#x2208; </span><span 
class="msbm-10">&#x211D; </span>and <span 
class="cmmi-10">v</span><sub><span 
class="cmr-7">2</span></sub> = [<span 
class="cmmi-10">v</span><sub><span 
class="cmr-7">21</span></sub><span 
class="cmmi-10">,v</span><sub><span 
class="cmr-7">22</span></sub>]<sup><span 
class="cmsy-7">&#x22A4;</span></sup><span 
class="cmsy-10">&#x2208; </span><span 
class="msbm-10">&#x211D;</span><sup><span 
class="cmr-7">2</span></sup>
are the inputs.
<!--l. 44--><p class="indent" >   Therefore, the interconnection may be defined by the input assignment
</p>
   <table 
class="equation"><tr><td><a 
 id="x1-1004r5"></a>
   <center class="math-display" >
<img 
src="Example_1_62x.png" alt="u1 = y2,   u2 = y1.
" class="math-display"  /></center></td><td class="equation-label">(5)</td></tr></table>
<!--l. 47--><p class="nopar" >
</p><!--l. 49--><p class="indent" >   The signals <span 
class="cmmi-10">v</span><sub><span 
class="cmr-7">1</span></sub> and <span 
class="cmmi-10">v</span><sub><span 
class="cmr-7">2</span></sub> are included as external inputs in the model in order to simulate the effects of
environmental perturbations, such as a wind gust, on the system.
</p><!--l. 51--><p class="indent" >   The MATLAB scripts in each of the function blocks of the implementation above are given as follows. The
constants for the interconnected system are <span 
class="cmmi-10">&#x03B3; </span>= 0<span 
class="cmmi-10">.</span>8, <span 
class="cmmi-10">b </span>= 0<span 
class="cmmi-10">.</span>1, and <span 
class="cmmi-10">&#x03B1;</span><sub><span 
class="cmr-7">1</span></sub><span 
class="cmmi-10">,&#x03B1;</span><sub><span 
class="cmr-7">2</span></sub> = 0<span 
class="cmmi-10">.</span>1.
</p>
   <hr class="figure" /><div class="figure" 
><a 
 id="x1-10051"></a>
<div class="center" 
>
<!--l. 55--><p class="noindent" >
</p><!--l. 56--><p class="noindent" ><img 
src="Example_1_63x.png" alt="PIC" class="graphics" width="281.85587pt" height="311.56517pt"  /><!--tex4ht:graphics  
name="Example_1_63x.png" src="figures/Simulink/InterconnectionMdl.eps"  
-->
                                                                                         
                                                                                         
<br /> </p><div class="caption" 
><span class="id">Figure&#x00A0;1: </span><span  
class="content">MATLAB/Simulink implementation of interconnected hybrid systems <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">1</span></sub> and <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">2</span></sub></span></div><!--tex4ht:label?: x1-10051 -->
</div>
   </div><hr class="endfigure" />
   <hr class="figure" /><div class="figure" 
><a 
 id="x1-10062"></a>
<div class="center" 
>
<!--l. 64--><p class="noindent" >
</p><!--l. 69--><p class="noindent" ><img 
src="Example_1_64x.png" alt="PIC" class="graphics" width="375.80544pt" height="282.53006pt"  /><!--tex4ht:graphics  
name="Example_1_64x.png" src="figures/Examples/InterconnectionH1H2.eps"  
-->
<br /> </p><div class="caption" 
><span class="id">Figure&#x00A0;2: </span><span  
class="content">Solution of Example&#x00A0;<a 
href="#x1-10011">1.6<!--tex4ht:ref: ex:interconnection1 --></a>: height and velocity</span></div><!--tex4ht:label?: x1-10062 -->
</div>
   </div><hr class="endfigure" />
   <hr class="figure" /><div class="figure" 
><a 
 id="x1-10093"></a> <a 
 id="x1-1007r1"></a> <img 
src="Example_1_65x.png" alt="PIC" class="graphics" width="211.38832pt" height="158.92044pt"  /><!--tex4ht:graphics  
name="Example_1_65x.png" src="figures/Examples/InterconnectionH1.eps"  
-->
                                       <span 
class="cmr-8">(a) Height</span>
                                                                                         
                                                                                         
<a 
 id="x1-1008r2"></a> <img 
src="Example_1_66x.png" alt="PIC" class="graphics" width="211.38832pt" height="158.92044pt"  /><!--tex4ht:graphics  
name="Example_1_66x.png" src="figures/Examples/InterconnectionH1velocity.eps"  
-->
                   <span 
class="cmr-8">(b) Velocity</span>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;3: </span><span  
class="content">Solution of Example <a 
href="#x1-10011">1.6<!--tex4ht:ref: ex:interconnection1 --></a> for system <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">1</span></sub></span></div><!--tex4ht:label?: x1-10093 -->
   </div><hr class="endfigure" />
   <hr class="figure" /><div class="figure" 
><a 
 id="x1-10124"></a> <a 
 id="x1-1010r1"></a> <img 
src="Example_1_67x.png" alt="PIC" class="graphics" width="211.38832pt" height="158.54413pt"  /><!--tex4ht:graphics  
name="Example_1_67x.png" src="figures/Examples/InterconnectionH2.eps"  
-->
                                       <span 
class="cmr-8">(a) Height</span>
<a 
 id="x1-1011r2"></a> <img 
src="Example_1_68x.png" alt="PIC" class="graphics" width="211.38832pt" height="158.92044pt"  /><!--tex4ht:graphics  
name="Example_1_68x.png" src="figures/Examples/InterconnectionH2velocity.eps"  
-->
                   <span 
class="cmr-8">(b) Velocity</span>
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;4: </span><span  
class="content">Solution of Example&#x00A0;<a 
href="#x1-10011">1.6<!--tex4ht:ref: ex:interconnection1 --></a> for system <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">2</span></sub></span></div><!--tex4ht:label?: x1-10124 -->
   </div><hr class="endfigure" />
                                                                                         
                                                                                         
     <ul class="itemize1">
     <li class="itemize">For hybrid system <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">1</span></sub>:
     <!--l. 155--><p class="noindent" >Flow map
     </p><!--l. 25--><p class="noindent" ><span 
class="cmr-7">1</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">function</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;xdot</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;f(x,</span><span 
class="pcrr7t-">&#x00A0;u)</span></span><br 
class="newline" /><span 
class="cmr-7">2</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">3</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">4</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Matlab</span><span 
class="pcrr7t-">&#x00A0;Function</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;Author:</span><span 
class="pcrr7t-">&#x00A0;Ricardo</span><span 
class="pcrr7t-">&#x00A0;Sanfelice</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">5</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">6</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Project:</span><span 
class="pcrr7t-">&#x00A0;Simulation</span><span 
class="pcrr7t-">&#x00A0;of</span><span 
class="pcrr7t-">&#x00A0;a</span><span 
class="pcrr7t-">&#x00A0;hybrid</span><span 
class="pcrr7t-">&#x00A0;system</span><span 
class="pcrr7t-">&#x00A0;(interconnection)</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">7</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">8</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Name:</span><span 
class="pcrr7t-">&#x00A0;f.m</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">9</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">10</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Description:</span><span 
class="pcrr7t-">&#x00A0;Flow</span><span 
class="pcrr7t-">&#x00A0;map</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">11</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">12</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Version:</span><span 
class="pcrr7t-">&#x00A0;1.0</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">13</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Required</span><span 
class="pcrr7t-">&#x00A0;files:</span><span 
class="pcrr7t-">&#x00A0;-</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">14</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">15</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">16</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;state</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">17</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(1);</span></span><br 
class="newline" /><span 
class="cmr-7">18</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(2);</span></span><br 
class="newline" /><span 
class="cmr-7">19</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">20</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%input</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">21</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;y2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(1);</span></span><br 
class="newline" /><span 
class="cmr-7">22</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v11</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(2);</span></span><br 
class="newline" /><span 
class="cmr-7">23</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v12</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(3);</span></span><br 
class="newline" /><span 
class="cmr-7">24</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">25</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;flow</span><span 
class="pcrr7t-">&#x00A0;map</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">26</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%xdot=f(x,u);</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">27</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi1dot</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;xi2;</span></span><br 
class="newline" /><span 
class="cmr-7">28</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi2dot</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;-0.8-0.1&#x22C6;xi2+v11;</span></span><br 
class="newline" /><span 
class="cmr-7">29</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">30</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xdot</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;[xi1dot;xi2dot];</span></span><br 
class="newline" />
     </p><!--l. 160--><p class="noindent" >Flow set
     </p><!--l. 25--><p class="noindent" ><span 
class="cmr-7">1</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">function</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;C(x,</span><span 
class="pcrr7t-">&#x00A0;u)</span><span 
class="pcrr7t-">&#x00A0;</span></span><br 
class="newline" /><span 
class="cmr-7">2</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">3</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">4</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Matlab</span><span 
class="pcrr7t-">&#x00A0;Function</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;Author:</span><span 
class="pcrr7t-">&#x00A0;Ricardo</span><span 
class="pcrr7t-">&#x00A0;Sanfelice</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">5</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">6</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Project:</span><span 
class="pcrr7t-">&#x00A0;Simulation</span><span 
class="pcrr7t-">&#x00A0;of</span><span 
class="pcrr7t-">&#x00A0;a</span><span 
class="pcrr7t-">&#x00A0;hybrid</span><span 
class="pcrr7t-">&#x00A0;system</span><span 
class="pcrr7t-">&#x00A0;(interconnection)</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">7</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">8</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Name:</span><span 
class="pcrr7t-">&#x00A0;C.m</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">9</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">10</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Description:</span><span 
class="pcrr7t-">&#x00A0;Flow</span><span 
class="pcrr7t-">&#x00A0;set</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">11</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">12</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Version:</span><span 
class="pcrr7t-">&#x00A0;1.0</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">13</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Required</span><span 
class="pcrr7t-">&#x00A0;files:</span><span 
class="pcrr7t-">&#x00A0;-</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">14</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">15</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">16</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;state</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">17</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(1);</span></span><br 
class="newline" /><span 
class="cmr-7">18</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(2);</span></span><br 
class="newline" /><span 
class="cmr-7">19</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">20</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%input</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">21</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;y2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(1);</span></span><br 
class="newline" /><span 
class="cmr-7">22</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v11</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(2);</span></span><br 
class="newline" /><span 
class="cmr-7">23</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v12</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(3);</span></span><br 
class="newline" /><span 
class="cmr-7">24</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">25</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">if</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;(xi1</span><span 
class="pcrr7t-">&#x00A0;&#x003E;=</span><span 
class="pcrr7t-">&#x00A0;y2)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;flow</span><span 
class="pcrr7t-">&#x00A0;condition</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">26</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;1;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;report</span><span 
class="pcrr7t-">&#x00A0;flow</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">27</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">else</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">28</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;do</span><span 
class="pcrr7t-">&#x00A0;not</span><span 
class="pcrr7t-">&#x00A0;report</span><span 
class="pcrr7t-">&#x00A0;flow</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">29</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">end</span></span><span class="verb"></span><br 
class="newline" />
     </p><!--l. 165--><p class="noindent" >Jump map
     </p><!--l. 25--><p class="noindent" ><span 
class="cmr-7">1</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">function</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;xplus</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;g(x,</span><span 
class="pcrr7t-">&#x00A0;u)</span></span><br 
class="newline" /><span 
class="cmr-7">2</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">3</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">4</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Matlab</span><span 
class="pcrr7t-">&#x00A0;Function</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;Author:</span><span 
class="pcrr7t-">&#x00A0;Ricardo</span><span 
class="pcrr7t-">&#x00A0;Sanfelice</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">5</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">6</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Project:</span><span 
class="pcrr7t-">&#x00A0;Simulation</span><span 
class="pcrr7t-">&#x00A0;of</span><span 
class="pcrr7t-">&#x00A0;a</span><span 
class="pcrr7t-">&#x00A0;hybrid</span><span 
class="pcrr7t-">&#x00A0;system</span><span 
class="pcrr7t-">&#x00A0;(interconnection)</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">7</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">8</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Name:</span><span 
class="pcrr7t-">&#x00A0;g.m</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">9</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">10</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Description:</span><span 
class="pcrr7t-">&#x00A0;Jump</span><span 
class="pcrr7t-">&#x00A0;map</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">11</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">12</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Version:</span><span 
class="pcrr7t-">&#x00A0;1.0</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">13</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Required</span><span 
class="pcrr7t-">&#x00A0;files:</span><span 
class="pcrr7t-">&#x00A0;-</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">14</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">15</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">16</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;state</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">17</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(1);</span></span><br 
class="newline" /><span 
class="cmr-7">18</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(2);</span></span><br 
class="newline" /><span 
class="cmr-7">19</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">20</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%input</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">21</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;y2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(1);</span></span><br 
class="newline" /><span 
class="cmr-7">22</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v11</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(2);</span></span><br 
class="newline" /><span 
class="cmr-7">23</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v12</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(3);</span></span><br 
class="newline" /><span 
class="cmr-7">24</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">25</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi1plus=y2+0.1&#x22C6;xi2^2;</span></span><br 
class="newline" /><span 
class="cmr-7">26</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi2plus=0.8&#x22C6;abs(xi2)+v12;</span></span><br 
class="newline" /><span 
class="cmr-7">27</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">28</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xplus</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;[xi1plus;xi2plus];</span></span><br 
class="newline" />
     </p><!--l. 170--><p class="noindent" >Jump set
     </p><!--l. 25--><p class="noindent" ><span 
class="cmr-7">1</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">function</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;D(x,</span><span 
class="pcrr7t-">&#x00A0;u)</span><span 
class="pcrr7t-">&#x00A0;</span></span><br 
class="newline" /><span 
class="cmr-7">2</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">3</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">4</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Matlab</span><span 
class="pcrr7t-">&#x00A0;Function</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;Author:</span><span 
class="pcrr7t-">&#x00A0;Ricardo</span><span 
class="pcrr7t-">&#x00A0;Sanfelice</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">5</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">6</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Project:</span><span 
class="pcrr7t-">&#x00A0;Simulation</span><span 
class="pcrr7t-">&#x00A0;of</span><span 
class="pcrr7t-">&#x00A0;a</span><span 
class="pcrr7t-">&#x00A0;hybrid</span><span 
class="pcrr7t-">&#x00A0;system</span><span 
class="pcrr7t-">&#x00A0;(interconnection)</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">7</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">8</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Name:</span><span 
class="pcrr7t-">&#x00A0;D.m</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">9</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">10</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Description:</span><span 
class="pcrr7t-">&#x00A0;Jump</span><span 
class="pcrr7t-">&#x00A0;set</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">11</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">12</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Version:</span><span 
class="pcrr7t-">&#x00A0;1.0</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">13</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Required</span><span 
class="pcrr7t-">&#x00A0;files:</span><span 
class="pcrr7t-">&#x00A0;-</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">14</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">15</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">16</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;state</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">17</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(1);</span></span><br 
class="newline" /><span 
class="cmr-7">18</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xi2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(2);</span></span><br 
class="newline" /><span 
class="cmr-7">19</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">20</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%input</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">21</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;y2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(1);</span></span><br 
class="newline" /><span 
class="cmr-7">22</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v11</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(2);</span></span><br 
class="newline" /><span 
class="cmr-7">23</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v12</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(3);</span></span><br 
class="newline" /><span 
class="cmr-7">24</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">25</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">26</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">if</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;(xi1</span><span 
class="pcrr7t-">&#x00A0;&#x003C;=</span><span 
class="pcrr7t-">&#x00A0;y2)</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;jump</span><span 
class="pcrr7t-">&#x00A0;condition</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">27</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;1;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;report</span><span 
class="pcrr7t-">&#x00A0;jump</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">28</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">else</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">29</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;do</span><span 
class="pcrr7t-">&#x00A0;not</span><span 
class="pcrr7t-">&#x00A0;report</span><span 
class="pcrr7t-">&#x00A0;jump</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">30</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">end</span></span><span class="verb"></span><br 
class="newline" />
     </p></li>
     <li class="itemize">For hybrid system <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">2</span></sub>:
     <!--l. 177--><p class="noindent" >Flow map
     </p><!--l. 25--><p class="noindent" ><span 
class="cmr-7">1</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">function</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;xdot</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;f(x,</span><span 
class="pcrr7t-">&#x00A0;u)</span></span><br 
class="newline" /><span 
class="cmr-7">2</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">3</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">4</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Matlab</span><span 
class="pcrr7t-">&#x00A0;Function</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;Author:</span><span 
class="pcrr7t-">&#x00A0;Ricardo</span><span 
class="pcrr7t-">&#x00A0;Sanfelice</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">5</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">6</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Project:</span><span 
class="pcrr7t-">&#x00A0;Simulation</span><span 
class="pcrr7t-">&#x00A0;of</span><span 
class="pcrr7t-">&#x00A0;a</span><span 
class="pcrr7t-">&#x00A0;hybrid</span><span 
class="pcrr7t-">&#x00A0;system</span><span 
class="pcrr7t-">&#x00A0;(interconnection)</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">7</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">8</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Name:</span><span 
class="pcrr7t-">&#x00A0;f.m</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">9</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">10</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Description:</span><span 
class="pcrr7t-">&#x00A0;Flow</span><span 
class="pcrr7t-">&#x00A0;map</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">11</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">12</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Version:</span><span 
class="pcrr7t-">&#x00A0;1.0</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">13</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Required</span><span 
class="pcrr7t-">&#x00A0;files:</span><span 
class="pcrr7t-">&#x00A0;-</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">14</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">15</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">16</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">17</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;state</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">18</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(1);</span></span><br 
class="newline" /><span 
class="cmr-7">19</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(2);</span></span><br 
class="newline" /><span 
class="cmr-7">20</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">21</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%input</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">22</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;y1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(1);</span></span><br 
class="newline" /><span 
class="cmr-7">23</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v21</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(2);</span></span><br 
class="newline" /><span 
class="cmr-7">24</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v22</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(3);</span></span><br 
class="newline" /><span 
class="cmr-7">25</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">26</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;flow</span><span 
class="pcrr7t-">&#x00A0;map</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">27</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta1dot</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;eta2;</span></span><br 
class="newline" /><span 
class="cmr-7">28</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta2dot</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;-eta1-2&#x22C6;eta2+v21;</span></span><br 
class="newline" /><span 
class="cmr-7">29</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">30</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xdot</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;[eta1dot;eta2dot];</span></span><br 
class="newline" />
     </p><!--l. 182--><p class="noindent" >Flow set
     </p><!--l. 25--><p class="noindent" ><span 
class="cmr-7">1</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">function</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;C(x,</span><span 
class="pcrr7t-">&#x00A0;u)</span><span 
class="pcrr7t-">&#x00A0;</span></span><br 
class="newline" /><span 
class="cmr-7">2</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">3</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">4</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Matlab</span><span 
class="pcrr7t-">&#x00A0;Function</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;Author:</span><span 
class="pcrr7t-">&#x00A0;Ricardo</span><span 
class="pcrr7t-">&#x00A0;Sanfelice</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">5</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">6</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Project:</span><span 
class="pcrr7t-">&#x00A0;Simulation</span><span 
class="pcrr7t-">&#x00A0;of</span><span 
class="pcrr7t-">&#x00A0;a</span><span 
class="pcrr7t-">&#x00A0;hybrid</span><span 
class="pcrr7t-">&#x00A0;system</span><span 
class="pcrr7t-">&#x00A0;(interconnection)</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">7</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">8</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Name:</span><span 
class="pcrr7t-">&#x00A0;C.m</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">9</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">10</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Description:</span><span 
class="pcrr7t-">&#x00A0;Flow</span><span 
class="pcrr7t-">&#x00A0;set</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">11</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">12</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Version:</span><span 
class="pcrr7t-">&#x00A0;1.0</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">13</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Required</span><span 
class="pcrr7t-">&#x00A0;files:</span><span 
class="pcrr7t-">&#x00A0;-</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">14</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">15</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">16</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;state</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">17</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(1);</span></span><br 
class="newline" /><span 
class="cmr-7">18</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(2);</span></span><br 
class="newline" /><span 
class="cmr-7">19</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">20</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%input</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">21</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;y1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(1);</span></span><br 
class="newline" /><span 
class="cmr-7">22</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v21</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(2);</span></span><br 
class="newline" /><span 
class="cmr-7">23</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v22</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(3);</span></span><br 
class="newline" /><span 
class="cmr-7">24</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">25</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">if</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;(eta1</span><span 
class="pcrr7t-">&#x00A0;&#x003C;=</span><span 
class="pcrr7t-">&#x00A0;y1)</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;flow</span><span 
class="pcrr7t-">&#x00A0;condition</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">26</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;1;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;report</span><span 
class="pcrr7t-">&#x00A0;flow</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">27</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">else</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">28</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;do</span><span 
class="pcrr7t-">&#x00A0;not</span><span 
class="pcrr7t-">&#x00A0;report</span><span 
class="pcrr7t-">&#x00A0;flow</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">29</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">end</span></span><span class="verb"></span><br 
class="newline" />
     </p><!--l. 187--><p class="noindent" >Jump map
     </p><!--l. 25--><p class="noindent" ><span 
class="cmr-7">1</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">function</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;xplus</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;g(x,</span><span 
class="pcrr7t-">&#x00A0;u)</span></span><br 
class="newline" /><span 
class="cmr-7">2</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">3</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">4</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Matlab</span><span 
class="pcrr7t-">&#x00A0;Function</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;Author:</span><span 
class="pcrr7t-">&#x00A0;Ricardo</span><span 
class="pcrr7t-">&#x00A0;Sanfelice</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">5</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">6</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Project:</span><span 
class="pcrr7t-">&#x00A0;Simulation</span><span 
class="pcrr7t-">&#x00A0;of</span><span 
class="pcrr7t-">&#x00A0;a</span><span 
class="pcrr7t-">&#x00A0;hybrid</span><span 
class="pcrr7t-">&#x00A0;system</span><span 
class="pcrr7t-">&#x00A0;(interconnection)</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">7</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">8</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Name:</span><span 
class="pcrr7t-">&#x00A0;g.m</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">9</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">10</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Description:</span><span 
class="pcrr7t-">&#x00A0;Jump</span><span 
class="pcrr7t-">&#x00A0;map</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">11</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">12</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Version:</span><span 
class="pcrr7t-">&#x00A0;1.0</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">13</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Required</span><span 
class="pcrr7t-">&#x00A0;files:</span><span 
class="pcrr7t-">&#x00A0;-</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">14</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">15</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">16</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;state</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">17</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(1);</span></span><br 
class="newline" /><span 
class="cmr-7">18</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(2);</span></span><br 
class="newline" /><span 
class="cmr-7">19</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">20</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%input</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">21</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;y1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(1);</span></span><br 
class="newline" /><span 
class="cmr-7">22</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v21</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(2);</span></span><br 
class="newline" /><span 
class="cmr-7">23</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v22</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(3);</span></span><br 
class="newline" /><span 
class="cmr-7">24</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">25</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;jump</span><span 
class="pcrr7t-">&#x00A0;map</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">26</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta1plus</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;y1-0.1&#x22C6;abs(eta2);</span></span><br 
class="newline" /><span 
class="cmr-7">27</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta2plus</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;-0.8&#x22C6;abs(eta2)+v22;</span></span><br 
class="newline" /><span 
class="cmr-7">28</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">29</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;xplus</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;[eta1plus;eta2plus];</span></span><br 
class="newline" />
     </p><!--l. 192--><p class="noindent" >Jump set
     </p><!--l. 25--><p class="noindent" ><span 
class="cmr-7">1</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">function</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;D(x,</span><span 
class="pcrr7t-">&#x00A0;u)</span><span 
class="pcrr7t-">&#x00A0;</span></span><br 
class="newline" /><span 
class="cmr-7">2</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">3</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">4</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Matlab</span><span 
class="pcrr7t-">&#x00A0;Function</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;Author:</span><span 
class="pcrr7t-">&#x00A0;Ricardo</span><span 
class="pcrr7t-">&#x00A0;Sanfelice</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">5</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">6</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Project:</span><span 
class="pcrr7t-">&#x00A0;Simulation</span><span 
class="pcrr7t-">&#x00A0;of</span><span 
class="pcrr7t-">&#x00A0;a</span><span 
class="pcrr7t-">&#x00A0;hybrid</span><span 
class="pcrr7t-">&#x00A0;system</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">7</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">8</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Name:</span><span 
class="pcrr7t-">&#x00A0;D.m</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">9</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">10</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Description:</span><span 
class="pcrr7t-">&#x00A0;Jump</span><span 
class="pcrr7t-">&#x00A0;set</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">11</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">12</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Version:</span><span 
class="pcrr7t-">&#x00A0;1.0</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">13</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;Required</span><span 
class="pcrr7t-">&#x00A0;files:</span><span 
class="pcrr7t-">&#x00A0;-</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">14</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrb7t-">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">15</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">16</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;state</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">17</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(1);</span></span><br 
class="newline" /><span 
class="cmr-7">18</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;eta2</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;x(2);</span></span><br 
class="newline" /><span 
class="cmr-7">19</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">20</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">%input</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">21</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;y1</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(1);</span></span><br 
class="newline" /><span 
class="cmr-7">22</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v21</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(2);</span></span><br 
class="newline" /><span 
class="cmr-7">23</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v22</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;u(3);</span></span><br 
class="newline" /><span 
class="cmr-7">24</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">25</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <br 
class="newline" /><span 
class="cmr-7">26</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">if</span></span><span class="verb"><span 
class="pcrr7t-">&#x00A0;(eta1</span><span 
class="pcrr7t-">&#x00A0;&#x003E;=</span><span 
class="pcrr7t-">&#x00A0;y1)</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;jump</span><span 
class="pcrr7t-">&#x00A0;condition</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">27</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;1;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;report</span><span 
class="pcrr7t-">&#x00A0;jump</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">28</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">else</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">29</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;v</span><span 
class="pcrr7t-">&#x00A0;=</span><span 
class="pcrr7t-">&#x00A0;0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span><span class="verb"><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">&#x00A0;do</span><span 
class="pcrr7t-">&#x00A0;not</span><span 
class="pcrr7t-">&#x00A0;report</span><span 
class="pcrr7t-">&#x00A0;jump</span></span><span class="verb"></span><br 
class="newline" /><span 
class="cmr-7">30</span><span class="verb"><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span></span> <span class="verb"><span 
class="pcrr7t-">end</span></span><span class="verb"></span><br 
class="newline" />
</p>
     </li></ul>
<!--l. 199--><p class="indent" >   A solution to the interconnection of hybrid systems <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">1</span></sub> and <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">2</span></sub> with <span 
class="cmmi-10">T </span>= 18<span 
class="cmmi-10">,J </span>= 20, <span 
class="cmmi-10">rule </span>= 1, is depicted in
Figure&#x00A0;<a 
href="#x1-10062">2<!--tex4ht:ref: fig:interconnection-2 --></a>. Both the projection onto <span 
class="cmmi-10">t </span>and <span 
class="cmmi-10">j </span>are shown. A solution to the hybrid system <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">1</span></sub> is depicted in Figure&#x00A0;<a 
href="#x1-1007r1">3(a)<!--tex4ht:ref: fig:interconnection-3 --></a>
(height) and Figure&#x00A0;<a 
href="#x1-1008r2">3(b)<!--tex4ht:ref: fig:interconnection-4 --></a> (velocity). A solution to the hybrid system <span 
class="cmsy-10"><img 
src="cmsy10-48.png" alt="H" class="10x-x-48" /></span><sub><span 
class="cmr-7">2</span></sub> is depicted in Figure&#x00A0;<a 
href="#x1-1010r1">4(a)<!--tex4ht:ref: fig:interconnection-5 --></a> (height) and
Figure&#x00A0;<a 
href="#x1-1011r2">4(b)<!--tex4ht:ref: fig:interconnection-6 --></a> (velocity).
</p><!--l. 206--><p class="indent" >   These simulations reflect the expected behavior of the interconnected hybrid systems.
</p><!--l. 208--><p class="indent" >   For MATLAB/Simulink files of this example, see Examples/Example_<a 
href="#x1-10011">1.6<!--tex4ht:ref: ex:interconnection1 --></a>.
                                                                                         
                                                                                         
                                                                                         _ 
</p>
   </div>
    
</body></html> 

                                                                                         


